"use strict";const btnContainer=document.querySelector(".btn-container"),input=document.querySelector(".input");let result=document.querySelector(".result");function changeUsers(e){e.stopPropagation(),e.preventDefault();let t=e.target;"getAll"===t.getAttribute("data-action")?getAllUsers():"getId"===t.getAttribute("data-action")?getUserById(input.value):"remove"===t.getAttribute("data-action")&&removeUser(input.value)}function getUserById(e){result.innerHTML="",input.value="",fetch(`https://test-users-api.herokuapp.com/users/${e}`).then(e=>e.json()).then(e=>{result.innerHTML=`<p>id: ${e.data.id}   |   name: ${e.data.name}   |   age: ${e.data.age}</p>`})}function getAllUsers(){result.innerHTML="",input.value="",fetch("https://test-users-api.herokuapp.com/users/").then(e=>e.json()).then(e=>{console.log(e.data),e.data.forEach(e=>{result.innerHTML+=`<p>id: ${e.id}   |   name: ${e.name}   |   age: ${e.age}</p>`})})}function addUser(e,t){const n={name:e,age:t};let r={method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}};fetch("https://test-users-api.herokuapp.com/users/",r).then(e=>e.json()).then(e=>console.log(e))}function removeUser(e){input.value="",result.innerHTML="",fetch(`https://test-users-api.herokuapp.com/users/${e}`,{method:"DELETE"}).then(e=>{if(e.ok)return alert("delete success");throw new Erorr("delete error")})}function updateUser(e,t){let n={method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json"}};fetch(`https://test-users-api.herokuapp.com/users/${e}`,n).then(e=>{if(e.ok)return e.json();throw new Error("error update")})}btnContainer.addEventListener("click",changeUsers);