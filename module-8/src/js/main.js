'use strict'
// HOMEWORK
/*
  –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–∞–ª–ª–µ—Ä–µ–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞.

    <div class="image-gallery js-image-gallery">
      <div class="fullview">
        <!-- –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ preview -->
        <img src="img/fullview-1.jpeg" alt="alt text 1">
      </div>
      <!-- li –±—É–¥–µ—Ç —Å—Ç–æ–ª—å–∫–æ, —Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫. –≠—Ç–∏ 3 –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ -->
      <ul class="preview">
        <li><img src="img/preview-1.jpeg" data-fullview="img/fullview-1.jpeg" alt="alt text 1"></li>
        <li><img src="img/preview-2.jpeg" data-fullview="img/fullview-2.jpeg" alt="alt text 2"></li>
        <li><img src="img/preview-3.jpeg" data-fullview="img/fullview-3.jpeg" alt="alt text 3"></li>
      </ul>
    </div>

    üîî –ü—Ä–µ–≤—å—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: https://monosnap.com/file/5rVeRM8RYD6Wq2Nangp7E4TkroXZx2


    –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:

      - image-gallery –µ—Å—Ç—å –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤ HTML-—Ä–∞–∑–º–µ—Ç–∫–µ –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

      - fullview —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ —É–≤–µ–ª–∏—á–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ preview, –∏
        —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

      - preview —ç—Ç–æ —Å–ø–∏—Å–æ–∫ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç data-fullview,
        –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –±–æ–ª—å—à–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. preview –∏ –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç—ã, —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
        –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

      - –ü—Ä–∏ –∫–ª–∏–∫–µ –≤ —ç–ª–µ–º–µ–Ω—Ç preview, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å src —Ç–µ–≥–∞ img –≤–Ω—É—Ç—Ä–∏ fullview
        –Ω–∞ url –∏–∑ data-–∞—Ç—Ä–∏–±—É—Ç–∞ –≤—ã–±—Ä–∞–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

      - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∞–∫—Ç–∏–≤–Ω—ã–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç preview.

      - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.

      - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ preview.

      - –ü—Ä–∏ –∫–ª–∏–∫–µ, –≤—ã–±—Ä–∞–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ preview –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è.

      - CSS-–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏ –∏–º–µ–Ω–∞ –∫–ª–∞—Å—Å–æ–≤ –Ω–∞ —Å–≤–æ–π –≤–∫—É—Å.


    üîî –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–∞–ª–µ–Ω—å–∫–∏–µ –∏ –±–æ–ª—å—à–∏–µ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å —Å —Å–µ—Ä–≤–∏—Å–∞ https://www.pexels.com/, –≤—ã–±—Ä–∞–≤ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏
      —Ä–∞–∑–º–µ—Ä. –ü—É—Å—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è preview –±—É–¥—É—Ç 320px –ø–æ —à–∏—Ä–∏–Ω–µ, –±–æ–ª—å—à–∏–µ –¥–ª—è fullview 1280px.
      –ü–æ–¥–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø—Ä–æ–ø–æ—Ä—Ü–∏–π.
*/

/*
  –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.
  –ó–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Å—Ç–≤—É—é—â–∏–µ –≤–∞—à–∏–º, –∏–ª–∏ –Ω–∞–∑–æ–≤–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.
*/

// const galleryItems = [
//   { preview: 'img/preview-1.jpg', fullview: 'img/fullview-1.jpg', alt: "alt text 1" },
//   { preview: 'img/preview-2.jpg', fullview: 'img/fullview-2.jpg', alt: "alt text 2" },
//   { preview: 'img/preview-3.jpg', fullview: 'img/fullview-3.jpg', alt: "alt text 3" },
//   { preview: 'img/preview-4.jpg', fullview: 'img/fullview-4.jpg', alt: "alt text 4" },
//   { preview: 'img/preview-5.jpg', fullview: 'img/fullview-5.jpg', alt: "alt text 5" },
// ];
//
// let fullImg = document.createElement('img');
// fullImg.setAttribute('src', 'img/fullview-1.jpg');
// fullImg.setAttribute('alt', 'first');
// document.querySelector('.fullview').prepend(fullImg);
//
// function createPreview(el) {
//   let previewImg = document.createElement('img');
//   previewImg.setAttribute('src', `${el.preview}`);
//   previewImg.setAttribute('alt', `${el.alt}`);
//   previewImg.setAttribute('data-fullview', `${el.fullview}`);
//
//   document.querySelector('.preview').append(previewImg);
// }
//
// function addPreview(arr) {
//   arr.forEach(el => createPreview(el));
// }
//
// addPreview(galleryItems);
//
// document.querySelector('.preview img').classList.add('preview-active');
//
// function clickPreview(e) {
//   e.preventDefault();
//   e.stopPropagation();
//   let target = e.target;
//   let data = target.getAttribute('data-fullview');
//   let previewImg = document.querySelectorAll('.preview img');
//
//   if (target.parentNode.classList.contains('preview')) {
//     previewImg.forEach(el => el.classList.remove('preview-active'));
//     target.classList.add('preview-active');
//     document.querySelector('.fullview > img').src = data;
//   }
// }
//
// let gallery = document.querySelector('.image-gallery');
//
// gallery.addEventListener('click', clickPreview);
/*
  ‚ö†Ô∏è –ó–ê–î–ê–ù–ò–ï –ü–û–í–´–®–ï–ù–ù–û–ô –°–õ–û–ñ–ù–û–°–¢–ò - –í–´–ü–û–õ–ù–Ø–¢–¨ –ü–û –ñ–ï–õ–ê–ù–ò–Æ

  –°–æ–∑–¥–∞–π—Ç–µ –ø–ª–∞–≥–∏–Ω –≥–∞–ª–ª–µ—Ä–µ–∏ –∏—Å–ø–æ–ª—å–∑—É—è ES6 –∫–ª–∞—Å—Å. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ —Ç–∞–∫,
  —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–æ–∑–¥–∞—Ç—å –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–∞–ª–ª–µ—Ä–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–ª–∞–≥–∏–Ω–∞
  –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∑–∞–¥–∞–Ω–∏—é –≤—ã—à–µ.

  –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç:
    - items - —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è preview
    - parentNode - —Å—Å—ã–ª–∫—É –Ω–∞ DOM-—É–∑–µ–ª –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –ø–æ–º–µ—â–µ–Ω—ã fullview –∏ preview
    - defaultActiveItem - –Ω–æ–º–µ—Ä –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ preview –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

  –¢–æ–≥–¥–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.
*/

const galleryItems = [
  { preview: 'img/preview-1.jpg', fullview: 'img/fullview-1.jpg', alt: "img-1" },
  { preview: 'img/preview-2.jpg', fullview: 'img/fullview-2.jpg', alt: "img-2" },
  { preview: 'img/preview-3.jpg', fullview: 'img/fullview-3.jpg', alt: "img-3" },
  { preview: 'img/preview-4.jpg', fullview: 'img/fullview-4.jpg', alt: "img-4" },
  { preview: 'img/preview-5.jpg', fullview: 'img/fullview-5.jpg', alt: "img-5" },
];

class Gallery {
  constructor ({items, parentNode, defaultActiveItem}) {
    this.items = items;
    this.parentNode = parentNode;
    this.defaultActiveItem = defaultActiveItem;
  }
/* –°–æ–∑–¥–∞–µ–º –Ω–∞—à—É –æ—Å–Ω–æ–≤–Ω—É—é —Å–µ—Ç–∫—É, –¥–æ–±–∞–≤–ª—è–µ–º –≤ image-gallery: fullview –∏ preview,
–∞ –≤ fullview –¥–æ–±–∞–≤–ª—è–µ–º –Ω–∞—à—É –∞–∫—Ç–∏–≤–Ω—É—é –±–æ–ª—å—à—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É
*/
  createGrid() {
    let fullview = document.createElement('div');
    let preview = document.createElement('div');
    fullview.className = 'fullview';
    preview.className = 'preview';

    this.parentNode.append(fullview);
    this.parentNode.append(preview);

    let fullviewImg = document.createElement('img');
    fullviewImg.setAttribute('src', `img/fullview-${this.defaultActiveItem}.jpg`);
    fullviewImg.setAttribute('alt', `img-${this.defaultActiveItem}`);
    fullview.prepend(fullviewImg);
  }
/*–ú—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º —Å –º–∞—Å–∏–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –æ–¥–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω—è—Ç—å—Å—è: src, alt
–∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ –±–æ–ª—å—à—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É. –°–æ–∑–¥–∞–µ–º img –∏ –¥–æ–±–∞–≤–ª—è–µ–º –µ–º—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã
*/
  createItemsGallery(el) {
    let previewImg = document.createElement('img');
    previewImg.setAttribute('src', `${el.preview}`);
    previewImg.setAttribute('alt', `${el.alt}`);
    previewImg.setAttribute('data-fullview', `${el.fullview}`);

    document.querySelector('.image-gallery .preview').append(previewImg);

// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞—à –∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏ –ø—Ä–∏—Å–∞–∏–≤–∞–µ–º –µ–º—É –∫–ª–∞—Å—Å preview-active
    if (previewImg.alt === `img-${this.defaultActiveItem}`) {
      previewImg.classList.add('preview-active');
    }
  }
// –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç –Ω–∞—à—É —Å–µ—Ç–∫—É –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç preview –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ –≤—ã–∑—ã–≤–∞—è createItemsGallery
  createGallery () {
    this.createGrid();
    this.items.forEach(el => this.createItemsGallery(el));
  }
// –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –¥–ª—è –Ω–∞—à–µ–≥–æ —Å–ª—É—à–∞—Ç–µ–ª—è
  clickGallery(e) {
    e.preventDefault();
    e.stopPropagation();
    let target = e.target;
    let data = target.getAttribute('data-fullview');
    let allPreviewImg = document.querySelectorAll('.preview img');

    if (target.parentNode.classList.contains('preview')) {
      allPreviewImg.forEach(el => el.classList.remove('preview-active'));
      target.classList.add('preview-active');
      document.querySelector('.fullview > img').src = data;
    }
  }
}

const gallery = new Gallery({
  items: galleryItems,
  parentNode: document.querySelector('.image-gallery'),
  defaultActiveItem: 1
});

gallery.createGallery();

let imageGallery = document.querySelector('.image-gallery');

imageGallery.addEventListener('click', gallery.clickGallery);

/* –î–∞–ª–µ–µ –ø–ª–∞–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–º —Ä–µ–∂–∏–º–µ */
